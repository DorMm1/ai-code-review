{
    "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
    "id": "e7b8f8a1-4a5b-4d3e-9b2f-1c3d5e7f8a9b",
    "name": "AICodeReview",
    "friendlyName": "AI Code Review",
    "description": "Complete a Code Review using a Custom AI Model API",
    "category": "Utility",
    "author": "Eric Wellnitz",
    "version": {
        "Major": 1,
        "Minor": 0,
        "Patch": 0
    },
    "instanceNameFormat": "Open AI Code Review $(message)",
    "inputs": [
        {
            "name": "api_url",
            "type": "string",
            "label": "API URL",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Endpoint URL for the AI model API (expects POST)."
        },
        {
            "name": "api_key",
            "type": "string",
            "label": "API Key",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "API key sent as a Bearer token in Authorization header."
        },
        {
            "name": "ai_model",
            "type": "pickList",
            "label": "Open AI API Model",
            "defaultValue": "gpt-3.5-turbo",
            "options": {
                "gpt-4-1106-preview": "gpt-4-1106-preview",
                "gpt-4-vision-preview": "gpt-4-vision-preview",
                "gpt-4": "gpt-4",
                "gpt-4-0314": "gpt-4-0314",
                "gpt-4-0613": "gpt-4-0613",
                "gpt-4-32k": "gpt-4-32k",
                "gpt-4-32k-0314": "gpt-4-32k-0314",
                "gpt-4-32k-0613": "gpt-4-32k-0613",
                "gpt-3.5-turbo-1106": "gpt-3.5-turbo-1106",
                "gpt-3.5-turbo": "gpt-3.5-turbo",
                "gpt-3.5-turbo-16k": "gpt-3.5-turbo-16k",
                "gpt-3.5-turbo-0301": "gpt-3.5-turbo-0301",
                "gpt-3.5-turbo-0613": "gpt-3.5-turbo-0613",
                "gpt-3.5-turbo-16k-0613": "gpt-3.5-turbo-16k-0613"
            },
            "helpMarkDown": "Choose the model (retained for compatibility)."
        },
        {
            "name": "bugs",
            "type": "boolean",
            "label": "Check for bugs",
            "defaultValue": true,
            "helpMarkDown": "Specify whether to enable bug checking during the code review process.\n\n- Set to `true` to perform bug checks.\n- Set to `false` to skip bug checks.\n\nBug checking helps identify and address potential issues in the code. Default value is `true`."
        },
        {
            "name": "performance",
            "type": "boolean",
            "label": "Check for performance problems",
            "defaultValue": true,
            "helpMarkDown": "Specify whether to include performance checks during the code review process.\n\n- Set to `true` to perform performance checks.\n- Set to `false` to skip performance checks.\n\nEnabling performance checks helps identify and address potential performance-related issues in the code. Default value is `true`."
        },
        {
            "name": "best_practices",
            "type": "boolean",
            "label": "Check for missed best practices",
            "defaultValue": true,
            "helpMarkDown": "Specify whether to include checks for missed best practices during the code review process.\n\n- Set to `true` to perform best practices checks.\n- Set to `false` to skip best practices checks.\n\nEnabling best practices checks helps ensure adherence to coding standards and identifies areas for improvement. Default value is `true`."
        },
        {
            "name": "file_extensions",
            "type": "string",
            "label": "File Extensions",
            "defaultValue": "",
            "required": false,
            "helpMarkDown": "Specify a comma-separated list of file extensions for which you want to perform a code review."
        },
        {
            "name": "file_excludes",
            "type": "string",
            "label": "Files to exclude",
            "defaultValue": "",
            "required": false,
            "helpMarkDown": "Comma-separated list of file names to exclude from review."
        },
        {
            "name": "additional_prompts",
            "type": "string",
            "label": "Additional Prompts",
            "defaultValue": "",
            "required": false,
            "helpMarkDown": "Additional prompts as a comma-separated list to enhance the review."
        }
    ],
    "execution": {
        "Node10": {
            "target": "dist/main.js"
        },
        "Node16": {
            "target": "dist/main.js"
        }
    }
}